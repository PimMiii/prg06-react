{"mappings":"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","sources":["src/Books.js","src/Book.js","src/Pagination.js"],"sourcesContent":["import Book from \"./Book\";\r\nimport React, { useContext, useEffect, useState } from \"react\";\r\nimport {URIContext} from \"./contexts/URIContext\";\r\nimport Pagination from \"./Pagination\";\r\n\r\nexport default function Books() {\r\n    const BASE_URI = useContext(URIContext)\r\n\r\n    const [library, setLibrary] = useState([])\r\n    const [loadedData, setLoadedData] = useState([])\r\n    const [limits, setLimits] = useState({\r\n        start: '1',\r\n        limit: '6'\r\n    })\r\n    const [uri, setUri] = useState(`${BASE_URI}?start=${limits.start}&limit=${limits.limit}`)\r\n    const [pagination, setPagination] = useState(null)\r\n\r\n    const loadLibrary = () => {\r\n        fetch(uri,\r\n            {\r\n                method: 'GET',\r\n                headers: {\r\n                    'Accept': 'application/json'\r\n                }\r\n            }\r\n        )\r\n            .then((response) => response.json())\r\n            .then((data) => dataWasLoaded(data))\r\n            .catch((error) => console.error(error));\r\n    };\r\n\r\n\r\n    const dataWasLoaded = (data) => {\r\n        console.log(data.items);\r\n        setLoadedData(data.items);\r\n        setLibrary(data.items);\r\n        setPagination(data.pagination)\r\n    };\r\n\r\n    useEffect(loadLibrary, [uri])\r\n\r\n    const showLibrary = library.map((item) => (\r\n        <Book book={item} key={item.id} libraryRefreshHandler={loadLibrary}/>\r\n    ))\r\n\r\n    return (\r\n        <>\r\n            <div className=\"library\">\r\n                {showLibrary}\r\n            </div>\r\n            {pagination &&\r\n            <Pagination pagination={pagination} setUri={setUri} libraryRefreshHandler={loadLibrary}/> }\r\n        </>\r\n    )\r\n}","import React from \"react\";\r\nimport {useState} from \"react\";\r\nimport {Link} from \"react-router-dom\";\r\n\r\nexport default function Book(props) {\r\n\r\n    let className = \"Book\"\r\n    if(props.status) {\r\n        className = \"Book Success\"\r\n    }\r\n\r\n    const [book, setBook] = useState(props.book);\r\n\r\n    const inputHandler = (event) => {\r\n        setBook({title: event.target.value})\r\n    };\r\n\r\n    const deleteBook = () => {\r\n        fetch(props.book._links.self.href,\r\n            {\r\n                method: 'DELETE',\r\n                headers: {\r\n                    'Accept': 'application/json'\r\n                }\r\n            }\r\n        )\r\n            .then((response) => console.log(`deleted ${props.book.title}`))\r\n            .then((response) => {\r\n                props.libraryRefreshHandler()\r\n            })\r\n            .catch((error) => console.error(error));\r\n    };\r\n\r\n    return (\r\n        <div className={`${className}`}>\r\n            <div className=\"titles\">\r\n            <div>\r\n                {book.title_nl && <h2>{book.title}</h2>}\r\n                {book.title_nl && <h3>{book.title_nl}</h3>}\r\n            </div>\r\n                {props.status &&\r\n                    <div className=\"success\">\r\n                        <h2>Boek toegevoegd!</h2>\r\n                    </div>}\r\n            </div>\r\n            <div className=\"information\">\r\n                {book.author && <h4>Auteur: {book.author}</h4>}\r\n            </div>\r\n            <div className=\"buttons\">\r\n                <Link to={`/books/${props.book.id}`}>\r\n                    <button>Details weergeven</button>\r\n                </Link>\r\n                <Link to={`/books/edit/${props.book.id}`}>\r\n                    <button>Aanpassen</button>\r\n                </Link>\r\n                <button onClick={deleteBook}>Verwijderen</button>\r\n            </div>\r\n        </div>\r\n    );\r\n}","import React from \"react\";\r\n\r\n\r\nexport default function Pagination(props) {\r\n\r\n    const pagination = props.pagination\r\n\r\n    return (\r\n       <nav className=\"Pagination buttons\">\r\n           <div className=\"actions\">\r\n        <button onClick={() => {props.setUri(pagination._links.first.href)}}>First</button>\r\n               {pagination.currentPage === 1\r\n                   ? <button disabled>Previous</button>\r\n                   :<button onClick={() => {props.setUri(pagination._links.previous.href)}}>Previous</button>\r\n               }\r\n           <h3>{pagination.currentPage}/{pagination.totalPages}</h3>\r\n               {pagination.currentPage === pagination.totalPages\r\n                   ? <button disabled>Next</button>\r\n                   : <button onClick={() => {props.setUri(pagination._links.next.href)}}>Next</button>\r\n               }\r\n           <button onClick={() => {props.setUri(pagination._links.last.href)}}>Last</button>\r\n           </div>\r\n       </nav>\r\n    );\r\n}"],"names":["$bbzbN","parcelRequire","$c730f801f596c63c$export$2e2bcd8739ae039","BASE_URI","$7fPBF","useContext","$eLV9D","URIContext","library","setLibrary","useState","loadedData","setLoadedData","limits","setLimits","start","limit","uri","setUri","pagination","setPagination","loadLibrary","fetch","method","headers","Accept","then","response","json","data","dataWasLoaded","catch","error","console","log","items","useEffect","showLibrary","map","item","jsx","$1M9al","default","book","libraryRefreshHandler","id","jsxs","Fragment","className","$ckbac","$14b1624cc68298a4$export$2e2bcd8739ae039","props","status","setBook","title_nl","title","author","$dNYY5","Link","to","onClick","_links","self","href","$8f90032547f3b3bc$export$2e2bcd8739ae039","first","currentPage","disabled","previous","totalPages","next","last"],"version":3,"file":"Books.df78f295.js.map"}