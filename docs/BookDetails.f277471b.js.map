{"mappings":"waAAA,IAAAA,EAAAC,EAAA,S,iEAIe,SAAAC,IACX,IAAMC,GAAS,EAAAC,EAAAC,aACTC,GAAW,EAAAC,EAAAC,YAAWC,EAAAC,YAEJC,GAAA,EAAAX,EAAAY,UAAA,EAAAL,EAAAM,UAAS,MAAI,GAA9BC,EAAiBH,EAAA,GAAXI,EAAWJ,EAAA,GAClBK,GAAW,EAAAC,EAAAC,eAkBXC,EAAgB,SAACC,GACnBC,QAAQC,IAAIF,GACZL,EAAQK,EACZ,GAEA,EAAAb,EAAAgB,YApBiB,WACbC,MAAM,GAAeC,OAAZnB,EAAS,KAAamB,OAAVtB,EAAOuB,IACxB,CACIC,OAAQ,MACRC,QAAS,CACLC,OAAU,sBAIjBC,MAAK,SAACC,G,OAAaA,EAASC,M,IAC5BF,MAAK,SAACV,G,OAASD,EAAcC,E,IAC7Ba,OAAM,SAACC,G,OAAUb,QAAQa,MAAMA,E,GACxC,GAQoB,IAgBpB,OACI,EAAAC,EAAAC,MAAC7B,EAAA8B,SAAO,C,UACHvB,IACG,EAAAqB,EAAAC,MAAC,OAAIE,UAAU,e,WACX,EAAAH,EAAAI,KAAC,OAAID,UAAU,S,UACX,EAAAH,EAAAC,MAAC,O,WACG,EAAAD,EAAAI,KAAC,M,SAAIzB,EAAK0B,SACV,EAAAL,EAAAI,KAAC,M,SAAIzB,EAAK2B,iBAGlB,EAAAN,EAAAC,MAAC,OAAIE,UAAU,c,WACX,EAAAH,EAAAC,MAAC,M,UAAG,WAAStB,EAAK4B,WAClB,EAAAP,EAAAC,MAAC,K,UAAE,SAAOtB,EAAK6B,SACf,EAAAR,EAAAC,MAAC,K,UAAE,UAAQtB,EAAK8B,OAAO,KAAG9B,EAAK+B,cAEnC,EAAAV,EAAAC,MAAC,OAAIE,UAAU,U,WACX,EAAAH,EAAAI,KAACtB,EAAA6B,KAAG,CAAEC,GAAG,I,UACL,EAAAZ,EAAAI,KAAC,U,SAAO,8BAEZ,EAAAJ,EAAAI,KAACtB,EAAA6B,KAAG,CAAEC,GAAI,eAAwBtB,OAATX,EAAKkC,K,UAC1B,EAAAb,EAAAI,KAAC,U,SAAO,iBAEZ,EAAAJ,EAAAI,KAAC,UAAOU,QApCT,WACfzB,MAAMV,EAAKoC,OAAOC,KAAKC,KACnB,CACIzB,OAAQ,SACRC,QAAS,CACLC,OAAU,sBAIjBC,MAAK,SAACC,G,OAAaV,QAAQC,IAAI,WAAsBG,OAAXX,EAAK0B,O,IAC/CV,MAAK,SAACC,G,OAAaf,EAAS,I,IAC5BiB,OAAM,SAACC,G,OAAUb,QAAQa,MAAMA,E,GACxC,E,SAwBiD,uBAIvCpB,IACE,EAAAqB,EAAAC,MAAC,OAAIE,UAAU,e,WACX,EAAAH,EAAAI,KAAC,OAAID,UAAU,S,UACX,EAAAH,EAAAC,MAAC,O,WACG,EAAAD,EAAAI,KAAC,M,SAAG,yBACJ,EAAAJ,EAAAI,KAAC,M,SAAG,yBAGZ,EAAAJ,EAAAI,KAAC,OAAID,UAAU,iBAEf,EAAAH,EAAAI,KAAC,OAAID,UAAU,U,UACX,EAAAH,EAAAI,KAACtB,EAAA6B,KAAG,CAAEC,GAAG,I,UACL,EAAAZ,EAAAI,KAAC,U,SAAO,oCAOpC,C","sources":["src/BookDetails.js"],"sourcesContent":["import {useState, useContext, useEffect, Fragment} from \"react\";\r\nimport {Link, useNavigate, useParams} from \"react-router-dom\";\r\nimport {URIContext} from \"./contexts/URIContext\";\r\n\r\nexport default function BookDetails() {\r\n    const params = useParams()\r\n    const BASE_URI = useContext(URIContext)\r\n\r\n    const [book, setBook] = useState(null);\r\n    const navigate = useNavigate();\r\n\r\n\r\n    const loadBook = () => {\r\n        fetch(`${BASE_URI}/${params.id}`,\r\n            {\r\n                method: 'GET',\r\n                headers: {\r\n                    'Accept': 'application/json'\r\n                }\r\n            }\r\n        )\r\n            .then((response) => response.json())\r\n            .then((data) => dataWasLoaded(data))\r\n            .catch((error) => console.error(error));\r\n    };\r\n\r\n\r\n    const dataWasLoaded = (data) => {\r\n        console.log(data);\r\n        setBook(data);\r\n    };\r\n\r\n    useEffect(loadBook, []);\r\n\r\n    const deleteBook = () => {\r\n        fetch(book._links.self.href,\r\n            {\r\n                method: 'DELETE',\r\n                headers: {\r\n                    'Accept': 'application/json'\r\n                }\r\n            }\r\n        )\r\n            .then((response) => console.log(`deleted ${book.title}`))\r\n            .then((response) => navigate(\"/\"))\r\n            .catch((error) => console.error(error));\r\n    };\r\n\r\n    return (\r\n        <Fragment>\r\n            {book &&\r\n                <div className=\"Book Details\">\r\n                    <div className=\"titles\">\r\n                        <div>\r\n                            <h2>{book.title}</h2>\r\n                            <h3>{book.title_nl}</h3>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"information\">\r\n                        <h3>Auteur: {book.author}</h3>\r\n                        <p>Jaar: {book.year}</p>\r\n                        <p>Reeks: {book.series} #{book.number}</p>\r\n                    </div>\r\n                    <div className=\"buttons\">\r\n                        <Link to='/'>\r\n                            <button>Terug naar Bibliotheek</button>\r\n                        </Link>\r\n                        <Link to={`/books/edit/${book._id}`}>\r\n                            <button>Aanpassen</button>\r\n                        </Link>\r\n                        <button onClick={deleteBook}>Verwijderen</button>\r\n                    </div>\r\n                </div>\r\n            }\r\n            {!book &&\r\n                <div className=\"Book Details\">\r\n                    <div className=\"titles\">\r\n                        <div>\r\n                            <h2>Boek niet gevonden.</h2>\r\n                            <h3>Book not found</h3>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"information\">\r\n                    </div>\r\n                    <div className=\"buttons\">\r\n                        <Link to='/'>\r\n                            <button>Terug naar Bibliotheek</button>\r\n                        </Link>\r\n                    </div>\r\n                </div>\r\n            }\r\n        </Fragment>\r\n    );\r\n}"],"names":["$hNZKs","parcelRequire","$ae665649a1e4656e$export$2e2bcd8739ae039","params","$6nbUx","useParams","BASE_URI","$6cds3","useContext","$hT13f","URIContext","_useState","default","useState","book","setBook","navigate","$1dF7x","useNavigate","dataWasLoaded","data","console","log","useEffect","fetch","concat","id","method","headers","Accept","then","response","json","catch","error","$lBpE3","jsxs","Fragment","className","jsx","title","title_nl","author","year","series","number","Link","to","_id","onClick","_links","self","href"],"version":3,"file":"BookDetails.f277471b.js.map"}