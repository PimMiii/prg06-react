{"mappings":"mbAAA,IAAAA,EAAAC,EAAA,S,iEAKe,SAAAC,IACX,IAAMC,GAAW,EAAAC,EAAAC,YAAWC,EAAAC,YAEEC,GAAA,EAAAR,EAAAS,UAAA,EAAAL,EAAAM,UAAS,IAAE,GAAlCC,EAAuBH,EAAA,GAAdI,EAAcJ,EAAA,GACMK,GAAA,EAAAb,EAAAS,UAAA,EAAAL,EAAAM,UAAS,IAAE,GAA5BI,GAAiBD,EAAA,GAAAA,EAAA,IACRE,GAAA,EAAAf,EAAAS,UAAA,EAAAL,EAAAM,UAAS,CACjCM,MAAO,IACPC,MAAO,MACX,GAHOC,EAAqBH,EAAA,GAINI,GAJMJ,EAAA,IAIN,EAAAf,EAAAS,UAAA,EAAAL,EAAAM,UAAS,GAAqBU,OAAlBjB,EAAS,WAA+BiB,OAAtBF,EAAOF,MAAM,WAAsBI,OAAbF,EAAOD,QAAK,IAA/EI,EAAeF,EAAA,GAAVG,EAAUH,EAAA,GACcI,GAAA,EAAAvB,EAAAS,UAAA,EAAAL,EAAAM,UAAS,MAAI,GAA1Cc,EAA6BD,EAAA,GAAjBE,EAAiBF,EAAA,GAE9BG,EAAc,WAChBC,MAAMN,EACF,CACIO,OAAQ,MACRC,QAAS,CACLC,OAAU,sBAIjBC,MAAK,SAACC,G,OAAaA,EAASC,M,IAC5BF,MAAK,SAACG,G,OAASC,EAAcD,E,IAC7BE,OAAM,SAACC,G,OAAUC,QAAQD,MAAMA,E,GACxC,EAGMF,EAAgB,SAACD,GACnBI,QAAQC,IAAIL,EAAKM,OACjB1B,EAAcoB,EAAKM,OACnB5B,EAAWsB,EAAKM,OAChBf,EAAcS,EAAKV,WACvB,GAEA,EAAApB,EAAAqC,WAAUf,EAAa,CAACL,IAExB,IAAMqB,EAAc/B,EAAQgC,KAAI,SAACC,G,OAC7B,EAAAC,EAAAC,KAACC,EAAAtC,QAAG,CAAEuC,KAAMJ,EAAoBK,sBAAuBvB,GAAhCkB,EAAKM,G,IAGhC,OACI,EAAAL,EAAAM,MAAAN,EAAAO,SAAA,C,WACI,EAAAP,EAAAC,KAAC,OAAIO,UAAU,U,SACVX,IAEJlB,IACD,EAAAqB,EAAAC,KAACQ,EAAA7C,QAAS,CAAEe,WAAYA,EAAYF,OAAQA,EAAQ2B,sBAAuBvB,MAGvF,C,oFCtDA,IAAA1B,EAAAC,EAAA,S,sDAIe,SAAAsD,EAAcC,GAEzB,IAAIH,EAAY,OACbG,EAAMC,SACLJ,EAAY,gBAGhB,IAAwB7C,GAAA,EAAAR,EAAAS,UAAA,EAAAL,EAAAM,UAAS8C,EAAMR,MAAI,GAApCA,EAAiBxC,EAAA,GAAAA,EAAA,GAsBxB,OACI,EAAAqC,EAAAM,MAAC,OAAIE,UAAW,GAAajC,OAAViC,G,WACf,EAAAR,EAAAM,MAAC,OAAIE,UAAU,S,WACf,EAAAR,EAAAM,MAAC,O,UACIH,EAAKU,WAAY,EAAAb,EAAAC,KAAC,M,SAAIE,EAAKW,QAC3BX,EAAKU,WAAY,EAAAb,EAAAC,KAAC,M,SAAIE,EAAKU,cAE3BF,EAAMC,SACH,EAAAZ,EAAAC,KAAC,OAAIO,UAAU,U,UACX,EAAAR,EAAAC,KAAC,M,SAAG,2BAGhB,EAAAD,EAAAC,KAAC,OAAIO,UAAU,c,SACVL,EAAKY,SAAU,EAAAf,EAAAM,MAAC,M,UAAG,WAASH,EAAKY,aAEtC,EAAAf,EAAAM,MAAC,OAAIE,UAAU,U,WACX,EAAAR,EAAAC,KAACe,EAAAC,KAAG,CAAEC,GAAI,UAAwB3C,OAAdoC,EAAMR,KAAKE,I,UAC3B,EAAAL,EAAAC,KAAC,U,SAAO,yBAEZ,EAAAD,EAAAC,KAACe,EAAAC,KAAG,CAAEC,GAAI,eAA6B3C,OAAdoC,EAAMR,KAAKE,I,UAChC,EAAAL,EAAAC,KAAC,U,SAAO,iBAEZ,EAAAD,EAAAC,KAAC,UAAOkB,QAtCD,WACfrC,MAAM6B,EAAMR,KAAKiB,OAAOC,KAAKC,KACzB,CACIvC,OAAQ,SACRC,QAAS,CACLC,OAAU,sBAIjBC,MAAK,SAACC,G,OAAaM,QAAQC,IAAI,WAA4BnB,OAAjBoC,EAAMR,KAAKW,O,IACrD5B,MAAK,SAACC,GACHwB,EAAMP,uBACV,IACCb,OAAM,SAACC,G,OAAUC,QAAQD,MAAMA,E,GACxC,E,SAwByC,qBAI7C,C,oFC3DA,IAAAQ,EAAA5C,EAAA,SAGe,SAAAmE,EAAoBZ,GAE/B,IAAMhC,EAAagC,EAAMhC,WAEzB,OACG,EAAAqB,EAAAC,KAAC,OAAIO,UAAU,qB,UACX,EAAAR,EAAAM,MAAC,OAAIE,UAAU,U,WAClB,EAAAR,EAAAC,KAAC,UAAOkB,QAAS,WAAOR,EAAMlC,OAAOE,EAAWyC,OAAOI,MAAMF,KAAK,E,SAAG,UAClC,IAA3B3C,EAAW8C,aACN,EAAAzB,EAAAC,KAAC,UAAOyB,UAAQ,E,SAAC,cAClB,EAAA1B,EAAAC,KAAC,UAAOkB,QAAS,WAAOR,EAAMlC,OAAOE,EAAWyC,OAAOO,SAASL,KAAK,E,SAAG,cAEjF,EAAAtB,EAAAM,MAAC,M,UAAI3B,EAAW8C,YAAY,IAAE9C,EAAWiD,cACpCjD,EAAW8C,cAAgB9C,EAAWiD,YACjC,EAAA5B,EAAAC,KAAC,UAAOyB,UAAQ,E,SAAC,UACjB,EAAA1B,EAAAC,KAAC,UAAOkB,QAAS,WAAOR,EAAMlC,OAAOE,EAAWyC,OAAOS,KAAKP,KAAK,E,SAAG,UAE9E,EAAAtB,EAAAC,KAAC,UAAOkB,QAAS,WAAOR,EAAMlC,OAAOE,EAAWyC,OAAOU,KAAKR,KAAK,E,SAAG,aAI/E,C","sources":["src/Books.js","src/Book.js","src/Pagination.js"],"sourcesContent":["import Book from \"./Book\";\r\nimport React, { useContext, useEffect, useState } from \"react\";\r\nimport {URIContext} from \"./contexts/URIContext\";\r\nimport Pagination from \"./Pagination\";\r\n\r\nexport default function Books() {\r\n    const BASE_URI = useContext(URIContext)\r\n\r\n    const [library, setLibrary] = useState([])\r\n    const [loadedData, setLoadedData] = useState([])\r\n    const [limits, setLimits] = useState({\r\n        start: '1',\r\n        limit: '6'\r\n    })\r\n    const [uri, setUri] = useState(`${BASE_URI}?start=${limits.start}&limit=${limits.limit}`)\r\n    const [pagination, setPagination] = useState(null)\r\n\r\n    const loadLibrary = () => {\r\n        fetch(uri,\r\n            {\r\n                method: 'GET',\r\n                headers: {\r\n                    'Accept': 'application/json'\r\n                }\r\n            }\r\n        )\r\n            .then((response) => response.json())\r\n            .then((data) => dataWasLoaded(data))\r\n            .catch((error) => console.error(error));\r\n    };\r\n\r\n\r\n    const dataWasLoaded = (data) => {\r\n        console.log(data.items);\r\n        setLoadedData(data.items);\r\n        setLibrary(data.items);\r\n        setPagination(data.pagination)\r\n    };\r\n\r\n    useEffect(loadLibrary, [uri])\r\n\r\n    const showLibrary = library.map((item) => (\r\n        <Book book={item} key={item.id} libraryRefreshHandler={loadLibrary}/>\r\n    ))\r\n\r\n    return (\r\n        <>\r\n            <div className=\"library\">\r\n                {showLibrary}\r\n            </div>\r\n            {pagination &&\r\n            <Pagination pagination={pagination} setUri={setUri} libraryRefreshHandler={loadLibrary}/> }\r\n        </>\r\n    )\r\n}","import React from \"react\";\r\nimport {useState} from \"react\";\r\nimport {Link} from \"react-router-dom\";\r\n\r\nexport default function Book(props) {\r\n\r\n    let className = \"Book\"\r\n    if(props.status) {\r\n        className = \"Book Success\"\r\n    }\r\n\r\n    const [book, setBook] = useState(props.book);\r\n\r\n    const inputHandler = (event) => {\r\n        setBook({title: event.target.value})\r\n    };\r\n\r\n    const deleteBook = () => {\r\n        fetch(props.book._links.self.href,\r\n            {\r\n                method: 'DELETE',\r\n                headers: {\r\n                    'Accept': 'application/json'\r\n                }\r\n            }\r\n        )\r\n            .then((response) => console.log(`deleted ${props.book.title}`))\r\n            .then((response) => {\r\n                props.libraryRefreshHandler()\r\n            })\r\n            .catch((error) => console.error(error));\r\n    };\r\n\r\n    return (\r\n        <div className={`${className}`}>\r\n            <div className=\"titles\">\r\n            <div>\r\n                {book.title_nl && <h2>{book.title}</h2>}\r\n                {book.title_nl && <h3>{book.title_nl}</h3>}\r\n            </div>\r\n                {props.status &&\r\n                    <div className=\"success\">\r\n                        <h2>Boek toegevoegd!</h2>\r\n                    </div>}\r\n            </div>\r\n            <div className=\"information\">\r\n                {book.author && <h4>Auteur: {book.author}</h4>}\r\n            </div>\r\n            <div className=\"buttons\">\r\n                <Link to={`/books/${props.book.id}`}>\r\n                    <button>Details weergeven</button>\r\n                </Link>\r\n                <Link to={`/books/edit/${props.book.id}`}>\r\n                    <button>Aanpassen</button>\r\n                </Link>\r\n                <button onClick={deleteBook}>Verwijderen</button>\r\n            </div>\r\n        </div>\r\n    );\r\n}","import React from \"react\";\r\n\r\n\r\nexport default function Pagination(props) {\r\n\r\n    const pagination = props.pagination\r\n\r\n    return (\r\n       <nav className=\"Pagination buttons\">\r\n           <div className=\"actions\">\r\n        <button onClick={() => {props.setUri(pagination._links.first.href)}}>First</button>\r\n               {pagination.currentPage === 1\r\n                   ? <button disabled>Previous</button>\r\n                   :<button onClick={() => {props.setUri(pagination._links.previous.href)}}>Previous</button>\r\n               }\r\n           <h3>{pagination.currentPage}/{pagination.totalPages}</h3>\r\n               {pagination.currentPage === pagination.totalPages\r\n                   ? <button disabled>Next</button>\r\n                   : <button onClick={() => {props.setUri(pagination._links.next.href)}}>Next</button>\r\n               }\r\n           <button onClick={() => {props.setUri(pagination._links.last.href)}}>Last</button>\r\n           </div>\r\n       </nav>\r\n    );\r\n}"],"names":["$hNZKs","parcelRequire","$baf0f610060d9416$export$2e2bcd8739ae039","BASE_URI","$6cds3","useContext","$hT13f","URIContext","_useState","default","useState","library","setLibrary","_useState1","setLoadedData","_useState2","start","limit","limits","_useState3","concat","uri","setUri","_useState4","pagination","setPagination","loadLibrary","fetch","method","headers","Accept","then","response","json","data","dataWasLoaded","catch","error","console","log","items","useEffect","showLibrary","map","item","$lBpE3","jsx","$2rFm8","book","libraryRefreshHandler","id","jsxs","Fragment","className","$5Ogk8","$1c7e2ed382ba19b4$export$2e2bcd8739ae039","props","status","title_nl","title","author","$1dF7x","Link","to","onClick","_links","self","href","$43ae48d248a8440f$export$2e2bcd8739ae039","first","currentPage","disabled","previous","totalPages","next","last"],"version":3,"file":"Books.95865f0b.js.map"}