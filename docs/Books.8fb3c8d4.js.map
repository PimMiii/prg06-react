{"mappings":"mbAAA,IAAAA,EAAAC,EAAA,S,iEAOe,SAAAC,IACX,IAAMC,GAAW,EAAAC,EAAAC,YAAWC,EAAAC,YAEEC,GAAA,EAAAR,EAAAS,UAAA,EAAAL,EAAAM,UAAS,IAAE,GAAlCC,EAAuBH,EAAA,GAAdI,EAAcJ,EAAA,GACFK,GAAA,EAAAb,EAAAS,UAAA,EAAAL,EAAAM,UAAS,CACjCI,MAAO,IACPC,MAAO,MACX,GAHOC,EAAqBH,EAAA,GAINI,GAJMJ,EAAA,IAIN,EAAAb,EAAAS,UAAA,EAAAL,EAAAM,UAAS,GAAqBQ,OAAlBf,EAAS,WAA+Be,OAAtBF,EAAOF,MAAM,WAAsBI,OAAbF,EAAOD,QAAK,IAA/EI,EAAeF,EAAA,GAAVG,EAAUH,EAAA,GACcI,GAAA,EAAArB,EAAAS,UAAA,EAAAL,EAAAM,UAAS,MAAI,GAA1CY,EAA6BD,EAAA,GAAjBE,EAAiBF,EAAA,GAE9BG,EAAc,WAChBC,MAAMN,EACF,CACIO,OAAQ,MACRC,QAAS,CACLC,OAAU,sBAIjBC,MAAK,SAACC,G,OAAaA,EAASC,M,IAC5BF,MAAK,SAACG,G,OAASC,EAAcD,E,IAC7BE,OAAM,SAACC,G,OAAUC,QAAQD,MAAMA,E,GACxC,EAGMF,EAAgB,SAACD,GACnBI,QAAQC,IAAIL,EAAKM,OACjB1B,EAAWoB,EAAKM,OAChBf,EAAcS,EAAKV,WACvB,GAEA,EAAAlB,EAAAmC,WAAUf,EAAa,CAACL,IAExB,IAAMqB,EAAc7B,EAAQ8B,KAAI,SAACC,G,OAC7B,EAAAC,EAAAC,KAACC,EAAApC,QAAG,CAAEqC,KAAMJ,EAAoBK,sBAAuBvB,GAAhCkB,EAAKM,G,IAGhC,OACI,EAAAL,EAAAM,MAAAN,EAAAO,SAAA,C,WACI,EAAAP,EAAAC,KAAC,OAAIO,UAAU,U,SACVX,IAEJlB,IACG,EAAAqB,EAAAC,KAACQ,EAAA3C,QAAS,CAAEa,WAAYA,EAAYF,OAAQA,EAAQ2B,sBAAuBvB,MAG3F,C,oFCtDA,IAAAmB,EAAA1C,EAAA,SAAe,SAAAoD,EAAoBC,GAE/B,IAAMhC,EAAagC,EAAMhC,WAEzB,OACI,EAAAqB,EAAAC,KAAC,OAAIO,UAAU,qB,UACX,EAAAR,EAAAM,MAAC,OAAIE,UAAU,U,WACX,EAAAR,EAAAC,KAAC,UAAOW,QAAS,WACbD,EAAMlC,OAAOE,EAAWkC,OAAOC,MAAMC,KACzC,E,SAAG,UAEyB,IAA3BpC,EAAWqC,aACN,EAAAhB,EAAAC,KAAC,UAAOgB,UAAQ,E,SAAC,cACjB,EAAAjB,EAAAC,KAAC,UAAOW,QAAS,WACfD,EAAMlC,OAAOE,EAAWkC,OAAOK,SAASH,KAC5C,E,SAAG,cAEP,EAAAf,EAAAM,MAAC,M,UAAI3B,EAAWqC,YAAY,IAAErC,EAAWwC,cACxCxC,EAAWqC,cAAgBrC,EAAWwC,YACjC,EAAAnB,EAAAC,KAAC,UAAOgB,UAAQ,E,SAAC,UACjB,EAAAjB,EAAAC,KAAC,UAAOW,QAAS,WACfD,EAAMlC,OAAOE,EAAWkC,OAAOO,KAAKL,KACxC,E,SAAG,UAEP,EAAAf,EAAAC,KAAC,UAAOW,QAAS,WACbD,EAAMlC,OAAOE,EAAWkC,OAAOQ,KAAKN,KACxC,E,SAAG,aAKnB,C,oFC/BA,IAAA1D,EAAAC,EAAA,S,uCAGe,SAAAgE,EAAcX,GAEzB,IAAIH,EAAY,OACZG,EAAMY,SACNf,EAAY,gBAGhB,IAAwB3C,GAAA,EAAAR,EAAAS,UAAA,EAAAL,EAAAM,UAAS4C,EAAMR,MAAI,GAApCA,EAAiBtC,EAAA,GAAAA,EAAA,GAkBxB,OACI,EAAAmC,EAAAM,MAAC,OAAIE,UAAW,GAAajC,OAAViC,G,WACf,EAAAR,EAAAM,MAAC,OAAIE,UAAU,S,WACX,EAAAR,EAAAM,MAAC,O,UACIH,EAAKqB,WAAY,EAAAxB,EAAAC,KAAC,M,SAAIE,EAAKsB,QAC3BtB,EAAKqB,WAAY,EAAAxB,EAAAC,KAAC,M,SAAIE,EAAKqB,cAE/Bb,EAAMY,SACH,EAAAvB,EAAAC,KAAC,OAAIO,UAAU,U,UACX,EAAAR,EAAAC,KAAC,M,SAAG,2BAGhB,EAAAD,EAAAC,KAAC,OAAIO,UAAU,c,SACVL,EAAKuB,SAAU,EAAA1B,EAAAM,MAAC,M,UAAG,WAASH,EAAKuB,aAEtC,EAAA1B,EAAAM,MAAC,OAAIE,UAAU,U,WACX,EAAAR,EAAAC,KAAC0B,EAAAC,KAAG,CAAEC,GAAI,UAAwBtD,OAAdoC,EAAMR,KAAKE,I,UAC3B,EAAAL,EAAAC,KAAC,U,SAAO,yBAEZ,EAAAD,EAAAC,KAAC0B,EAAAC,KAAG,CAAEC,GAAI,eAA6BtD,OAAdoC,EAAMR,KAAKE,I,UAChC,EAAAL,EAAAC,KAAC,U,SAAO,iBAEZ,EAAAD,EAAAC,KAAC,UAAOW,QAtCD,WACf9B,MAAM6B,EAAMR,KAAKU,OAAOiB,KAAKf,KACzB,CACIhC,OAAQ,SACRC,QAAS,CACLC,OAAU,sBAIjBC,MAAK,SAACC,G,OAAaM,QAAQC,IAAI,WAA4BnB,OAAjBoC,EAAMR,KAAKsB,O,IACrDvC,MAAK,SAACC,GACHwB,EAAMP,uBACV,IACCb,OAAM,SAACC,G,OAAUC,QAAQD,MAAMA,E,GACxC,E,SAwByC,qBAI7C,C","sources":["src/Books.js","src/Pagination.js","src/Book.js"],"sourcesContent":["import {useContext, useEffect, useState} from \"react\";\r\n\r\nimport {URIContext} from \"./contexts/URIContext\";\r\n\r\nimport Pagination from \"./Pagination\";\r\nimport Book from \"./Book\";\r\n\r\nexport default function Books() {\r\n    const BASE_URI = useContext(URIContext)\r\n\r\n    const [library, setLibrary] = useState([])\r\n    const [limits, setLimits] = useState({\r\n        start: '1',\r\n        limit: '6'\r\n    })\r\n    const [uri, setUri] = useState(`${BASE_URI}?start=${limits.start}&limit=${limits.limit}`)\r\n    const [pagination, setPagination] = useState(null)\r\n\r\n    const loadLibrary = () => {\r\n        fetch(uri,\r\n            {\r\n                method: 'GET',\r\n                headers: {\r\n                    'Accept': 'application/json'\r\n                }\r\n            }\r\n        )\r\n            .then((response) => response.json())\r\n            .then((data) => dataWasLoaded(data))\r\n            .catch((error) => console.error(error));\r\n    };\r\n\r\n\r\n    const dataWasLoaded = (data) => {\r\n        console.log(data.items);\r\n        setLibrary(data.items);\r\n        setPagination(data.pagination)\r\n    };\r\n\r\n    useEffect(loadLibrary, [uri])\r\n\r\n    const showLibrary = library.map((item) => (\r\n        <Book book={item} key={item.id} libraryRefreshHandler={loadLibrary}/>\r\n    ))\r\n\r\n    return (\r\n        <>\r\n            <div className=\"library\">\r\n                {showLibrary}\r\n            </div>\r\n            {pagination &&\r\n                <Pagination pagination={pagination} setUri={setUri} libraryRefreshHandler={loadLibrary}/>}\r\n        </>\r\n    )\r\n}","export default function Pagination(props) {\r\n\r\n    const pagination = props.pagination\r\n\r\n    return (\r\n        <nav className=\"Pagination buttons\">\r\n            <div className=\"actions\">\r\n                <button onClick={() => {\r\n                    props.setUri(pagination._links.first.href)\r\n                }}>First\r\n                </button>\r\n                {pagination.currentPage === 1\r\n                    ? <button disabled>Previous</button>\r\n                    : <button onClick={() => {\r\n                        props.setUri(pagination._links.previous.href)\r\n                    }}>Previous</button>\r\n                }\r\n                <h3>{pagination.currentPage}/{pagination.totalPages}</h3>\r\n                {pagination.currentPage === pagination.totalPages\r\n                    ? <button disabled>Next</button>\r\n                    : <button onClick={() => {\r\n                        props.setUri(pagination._links.next.href)\r\n                    }}>Next</button>\r\n                }\r\n                <button onClick={() => {\r\n                    props.setUri(pagination._links.last.href)\r\n                }}>Last\r\n                </button>\r\n            </div>\r\n        </nav>\r\n    );\r\n}","import {useState} from \"react\";\r\nimport {Link} from \"react-router-dom\";\r\n\r\nexport default function Book(props) {\r\n\r\n    let className = \"Book\"\r\n    if (props.status) {\r\n        className = \"Book Success\"\r\n    }\r\n\r\n    const [book, setBook] = useState(props.book);\r\n\r\n    const deleteBook = () => {\r\n        fetch(props.book._links.self.href,\r\n            {\r\n                method: 'DELETE',\r\n                headers: {\r\n                    'Accept': 'application/json'\r\n                }\r\n            }\r\n        )\r\n            .then((response) => console.log(`deleted ${props.book.title}`))\r\n            .then((response) => {\r\n                props.libraryRefreshHandler()\r\n            })\r\n            .catch((error) => console.error(error));\r\n    };\r\n\r\n    return (\r\n        <div className={`${className}`}>\r\n            <div className=\"titles\">\r\n                <div>\r\n                    {book.title_nl && <h2>{book.title}</h2>}\r\n                    {book.title_nl && <h3>{book.title_nl}</h3>}\r\n                </div>\r\n                {props.status &&\r\n                    <div className=\"success\">\r\n                        <h2>Boek toegevoegd!</h2>\r\n                    </div>}\r\n            </div>\r\n            <div className=\"information\">\r\n                {book.author && <h4>Auteur: {book.author}</h4>}\r\n            </div>\r\n            <div className=\"buttons\">\r\n                <Link to={`/books/${props.book.id}`}>\r\n                    <button>Details weergeven</button>\r\n                </Link>\r\n                <Link to={`/books/edit/${props.book.id}`}>\r\n                    <button>Aanpassen</button>\r\n                </Link>\r\n                <button onClick={deleteBook}>Verwijderen</button>\r\n            </div>\r\n        </div>\r\n    );\r\n}"],"names":["$hNZKs","parcelRequire","$baf0f610060d9416$export$2e2bcd8739ae039","BASE_URI","$6cds3","useContext","$hT13f","URIContext","_useState","default","useState","library","setLibrary","_useState1","start","limit","limits","_useState2","concat","uri","setUri","_useState3","pagination","setPagination","loadLibrary","fetch","method","headers","Accept","then","response","json","data","dataWasLoaded","catch","error","console","log","items","useEffect","showLibrary","map","item","$lBpE3","jsx","$2rFm8","book","libraryRefreshHandler","id","jsxs","Fragment","className","$5Ogk8","$43ae48d248a8440f$export$2e2bcd8739ae039","props","onClick","_links","first","href","currentPage","disabled","previous","totalPages","next","last","$1c7e2ed382ba19b4$export$2e2bcd8739ae039","status","title_nl","title","author","$1dF7x","Link","to","self"],"version":3,"file":"Books.8fb3c8d4.js.map"}