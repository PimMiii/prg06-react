{"mappings":"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","sources":["src/NewBook.js","src/Book.js"],"sourcesContent":["import {Fragment, useContext, useState} from \"react\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {URIContext} from \"./contexts/URIContext\";\r\nimport Book from \"./Book\";\r\n\r\n\r\nexport default function NewBook(props) {\r\n    const BASE_URI = useContext(URIContext)\r\n\r\n    const [book, setBook] = useState({\r\n        title: \"\",\r\n        title_nl: \"\",\r\n        author: \"\",\r\n        series: \"\",\r\n        number: \"\",\r\n        year: \"\"\r\n    });\r\n\r\n    const [addedData, setAddedData] = useState(null)\r\n\r\n    const inputHandler = (event) => {\r\n        setBook({\r\n            ...book,\r\n            [event.target.name]: event.target.value\r\n        })\r\n    };\r\n\r\n    const saveBook = (event) => {\r\n        event.preventDefault();\r\n\r\n        fetch(BASE_URI,\r\n            {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Accept': 'application/json',\r\n                    'Content-type': 'application/json'\r\n                },\r\n                body: JSON.stringify(book)\r\n            }\r\n        )\r\n            .then((response) => response.json())\r\n            .then((data) => dataWasLoaded(data))\r\n            .catch((error) => console.error(error));\r\n    };\r\n\r\n    const dataWasLoaded = (data) => {\r\n        console.log(data);\r\n        setAddedData(data);\r\n\r\n    };\r\n\r\n    return (\r\n        <Fragment>\r\n            <div className=\"Book newBook\">\r\n                <div className=\"titles\">\r\n                    <h2>Nieuw Boek aanmaken</h2>\r\n                </div>\r\n                <div className=\"forms\">\r\n                    <form>\r\n                        <label htmlFor=\"title\"> Titel (Originele taal): </label>\r\n                        <input type=\"text\" name=\"title\" id=\"title\" value={book.title} onChange={inputHandler}/>\r\n                        <label htmlFor=\"title_nl\"> Titel (Nederlandse vertaling): </label>\r\n                        <input type=\"text\" name=\"title_nl\" id=\"title-nl\" value={book.title_nl} onChange={inputHandler}/>\r\n                        <label htmlFor=\"author\"> Auteur: </label>\r\n                        <input type=\"text\" name=\"author\" id=\"author\" value={book.author} onChange={inputHandler}/>\r\n                        <label htmlFor=\"series\"> Reeks: </label>\r\n                        <input type=\"text\" name=\"series\" id=\"series\" value={book.series} onChange={inputHandler}/>\r\n                        <label htmlFor=\"number\"> Nummer in reeks: </label>\r\n                        <input type=\"text\" name=\"number\" id=\"number\" value={book.number} onChange={inputHandler}/>\r\n                        <label htmlFor=\"year\"> Jaar: </label>\r\n                        <input type=\"text\" name=\"year\" id=\"year\" value={book.year} onChange={inputHandler}/>\r\n                    </form>\r\n                </div>\r\n                <div className=\"buttons\">\r\n                    <button onClick={saveBook}>Opslaan</button>\r\n                    <Link to='/'>\r\n                        <button>Terug naar Bibliotheek</button>\r\n                    </Link>\r\n                </div>\r\n            </div>\r\n            {addedData &&\r\n                <Book\r\n                    book={addedData}\r\n                    key={addedData._id}\r\n                    id={addedData._id}\r\n                    status={'added'}\r\n                    libraryRefreshHandler={props.libraryRefreshHandler}\r\n                />}\r\n\r\n        </Fragment>\r\n    );\r\n}","import {useState} from \"react\";\r\nimport {Link} from \"react-router-dom\";\r\n\r\nexport default function Book(props) {\r\n\r\n    let className = \"Book\"\r\n    if (props.status) {\r\n        className = \"Book Success\"\r\n    }\r\n\r\n    const [book, setBook] = useState(props.book);\r\n\r\n    const deleteBook = () => {\r\n        fetch(props.book._links.self.href,\r\n            {\r\n                method: 'DELETE',\r\n                headers: {\r\n                    'Accept': 'application/json'\r\n                }\r\n            }\r\n        )\r\n            .then((response) => console.log(`deleted ${props.book.title}`))\r\n            .then((response) => {\r\n                props.libraryRefreshHandler()\r\n            })\r\n            .catch((error) => console.error(error));\r\n    };\r\n\r\n    return (\r\n        <div className={`${className}`}>\r\n            <div className=\"titles\">\r\n                <div>\r\n                    {book.title_nl && <h2>{book.title}</h2>}\r\n                    {book.title_nl && <h3>{book.title_nl}</h3>}\r\n                </div>\r\n                {props.status &&\r\n                    <div className=\"success\">\r\n                        <h2>Boek toegevoegd!</h2>\r\n                    </div>}\r\n            </div>\r\n            <div className=\"information\">\r\n                {book.author && <h4>Auteur: {book.author}</h4>}\r\n            </div>\r\n            <div className=\"buttons\">\r\n                <Link to={`/books/${props.book.id}`}>\r\n                    <button>Details weergeven</button>\r\n                </Link>\r\n                <Link to={`/books/edit/${props.book.id}`}>\r\n                    <button>Aanpassen</button>\r\n                </Link>\r\n                <button onClick={deleteBook}>Verwijderen</button>\r\n            </div>\r\n        </div>\r\n    );\r\n}"],"names":["$bbzbN","parcelRequire","$b7b66dee63f99bcb$export$2e2bcd8739ae039","props","BASE_URI","$7fPBF","useContext","$eLV9D","URIContext","book","setBook","useState","title","title_nl","author","series","number","year","addedData","setAddedData","inputHandler","event","target","name","value","dataWasLoaded","data","console","log","jsxs","Fragment","className","jsx","htmlFor","type","id","onChange","onClick","preventDefault","fetch","method","headers","Accept","body","JSON","stringify","then","response","json","catch","error","$dNYY5","Link","to","$1M9al","default","_id","status","libraryRefreshHandler","$14b1624cc68298a4$export$2e2bcd8739ae039","_links","self","href"],"version":3,"file":"NewBook.3451e08f.js.map"}