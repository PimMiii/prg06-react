{"mappings":"4ZAAA,IAAAA,EAAAC,EAAA,S,oDAKe,SAAAC,IAEX,MAAMC,GAAS,EAAAC,EAAAC,aACTC,GAAW,EAAAC,EAAAC,YAAWC,EAAAC,aACrBC,EAAMC,IAAW,EAAAL,EAAAM,UAAS,CAC7BC,MAAO,GACPC,SAAU,GACVC,OAAQ,GACRC,OAAQ,GACRC,OAAQ,GACRC,KAAM,MAEHC,EAAWC,IAAgB,EAAAd,EAAAM,UAAS,MAErCS,EAAgBC,IAClBX,EAAQ,IACDD,EACH,CAACY,EAAMC,OAAOC,MAAOF,EAAMC,OAAOE,OACtC,EAkBEC,EAAiBC,IACnBC,QAAQC,IAAIF,GACZhB,EAAQgB,EAAA,EAoBNG,EAAgBH,IAClBC,QAAQC,IAAIF,GACZP,EAAaO,EAAA,EAKjB,OAFA,EAAArB,EAAAyB,YA1CiB,KACbC,MAAM,GAAG3B,KAAYH,EAAO+B,KACxB,CACIC,OAAQ,MACRC,QAAS,CACLC,OAAU,mBACV,eAAgB,sBAIvBC,MAAMC,GAAaA,EAASC,SAC5BF,MAAMV,GAASD,EAAcC,KAC7Ba,OAAOC,GAAUb,QAAQa,MAAMA,IAAA,GA8BpB,KAIhB,EAAA1C,EAAA2C,MAAC,OAAIC,UAAU,oB,WACX,EAAA5C,EAAA2C,MAAC,OAAIC,UAAU,S,WACX,EAAA5C,EAAA6C,KAAC,O,UACG,EAAA7C,EAAA6C,KAAC,M,SAAG,qBAEPzB,IAAa,EAAApB,EAAA6C,KAAC,OAAID,UAAU,U,UACzB,EAAA5C,EAAA6C,KAAC,M,SAAG,mCAGZ,EAAA7C,EAAA6C,KAAC,OAAID,UAAU,Q,UACX,EAAA5C,EAAA2C,MAAC,Q,WACG,EAAA3C,EAAA6C,KAAC,SAAMC,QAAQ,Q,SAAQ,+BACvB,EAAA9C,EAAA6C,KAAC,SAAME,KAAK,OAAOtB,KAAK,QAAQS,GAAG,QAAQR,MAAOf,EAAKG,MAAOkC,SAAU1B,KACxE,EAAAtB,EAAA6C,KAAC,SAAMC,QAAQ,W,SAAW,sCAC1B,EAAA9C,EAAA6C,KAAC,SAAME,KAAK,OAAOtB,KAAK,WAAWS,GAAG,WAAWR,MAAOf,EAAKI,SAAUiC,SAAU1B,KACjF,EAAAtB,EAAA6C,KAAC,SAAMC,QAAQ,S,SAAS,eACxB,EAAA9C,EAAA6C,KAAC,SAAME,KAAK,OAAOtB,KAAK,SAASS,GAAG,SAASR,MAAOf,EAAKK,OAAQgC,SAAU1B,KAC3E,EAAAtB,EAAA6C,KAAC,SAAMC,QAAQ,S,SAAS,cACxB,EAAA9C,EAAA6C,KAAC,SAAME,KAAK,OAAOtB,KAAK,SAASS,GAAG,SAASR,MAAOf,EAAKM,OAAQ+B,SAAU1B,KAC3E,EAAAtB,EAAA6C,KAAC,SAAMC,QAAQ,S,SAAS,wBACxB,EAAA9C,EAAA6C,KAAC,SAAME,KAAK,OAAOtB,KAAK,SAASS,GAAG,SAASR,MAAOf,EAAKO,OAAQ8B,SAAU1B,KAC3E,EAAAtB,EAAA6C,KAAC,SAAMC,QAAQ,O,SAAO,aACtB,EAAA9C,EAAA6C,KAAC,SAAME,KAAK,OAAOtB,KAAK,OAAOS,GAAG,OAAOR,MAAOf,EAAKQ,KAAM6B,SAAU1B,UAG7E,EAAAtB,EAAA2C,MAAC,OAAIC,UAAU,U,WACX,EAAA5C,EAAA6C,KAAC,UAAOI,QApDF1B,IACdA,EAAM2B,iBAENjB,MAAM,GAAG3B,KAAYH,EAAO+B,KACxB,CACIC,OAAQ,MACRC,QAAS,CACLC,OAAU,mBACV,eAAgB,oBACjBc,KAAMC,KAAKC,UAAU1C,KAG3B2B,MAAMC,GAAaA,EAASC,SAC5BF,MAAMV,GAASG,EAAaH,KAC5Ba,OAAOC,GAAUb,QAAQa,MAAMA,IAAA,E,SAsCD,YAC1B/B,IAAQ,EAAAX,EAAA6C,KAACS,EAAAC,KAAG,CAAEC,GAAI,UAAU7C,EAAK8C,M,UAC9B,EAAAzD,EAAA6C,KAAC,U,SAAO,iCAEZ,EAAA7C,EAAA6C,KAACS,EAAAC,KAAG,CAAEC,GAAG,I,UACL,EAAAxD,EAAA6C,KAAC,U,SAAO,kCAM5B,C","sources":["src/BookEdit.js"],"sourcesContent":["import {useState, useContext, useEffect} from \"react\";\r\nimport {Link, useParams} from \"react-router-dom\";\r\nimport {URIContext} from \"./contexts/URIContext\";\r\n\r\n\r\nexport default function NewBook() {\r\n\r\n    const params = useParams();\r\n    const BASE_URI = useContext(URIContext)\r\n    const [book, setBook] = useState({\r\n        title: \"\",\r\n        title_nl: \"\",\r\n        author: \"\",\r\n        series: \"\",\r\n        number: \"\",\r\n        year: \"\"\r\n    });\r\n    const [savedBook, setSavedBook] = useState(null);\r\n\r\n    const inputHandler = (event) => {\r\n        setBook({\r\n            ...book,\r\n            [event.target.name]: event.target.value\r\n        })\r\n    };\r\n\r\n    const loadBook = () => {\r\n        fetch(`${BASE_URI}/${params.id}`,\r\n            {\r\n                method: 'GET',\r\n                headers: {\r\n                    'Accept': 'application/json',\r\n                    'Content-type': 'application/json'\r\n                }\r\n            }\r\n        )\r\n            .then((response) => response.json())\r\n            .then((data) => dataWasLoaded(data))\r\n            .catch((error) => console.error(error));\r\n    };\r\n\r\n    const dataWasLoaded = (data) => {\r\n        console.log(data);\r\n        setBook(data);\r\n    };\r\n\r\n    const saveBook = (event) => {\r\n        event.preventDefault();\r\n\r\n        fetch(`${BASE_URI}/${params.id}`,\r\n            {\r\n                method: 'PUT',\r\n                headers: {\r\n                    'Accept': 'application/json',\r\n                    'Content-type': 'application/json'\r\n                }, body: JSON.stringify(book)\r\n            }\r\n        )\r\n            .then((response) => response.json())\r\n            .then((data) => dataWasSaved(data))\r\n            .catch((error) => console.error(error));\r\n    };\r\n\r\n    const dataWasSaved = (data) => {\r\n        console.log(data);\r\n        setSavedBook(data);\r\n    };\r\n\r\n    useEffect(loadBook, []);\r\n\r\n    return (\r\n\r\n        <div className=\"Book Details Edit\">\r\n            <div className=\"titles\">\r\n                <div>\r\n                    <h2>Boek Aanpassen</h2>\r\n                </div>\r\n                {savedBook && <div className=\"success\">\r\n                    <h2>Aanpassingen opgeslagen!</h2>\r\n                </div>}\r\n            </div>\r\n            <div className=\"forms\">\r\n                <form>\r\n                    <label htmlFor=\"title\"> Titel (Originele taal): </label>\r\n                    <input type=\"text\" name=\"title\" id=\"title\" value={book.title} onChange={inputHandler}/>\r\n                    <label htmlFor=\"title_nl\"> Titel (Nederlandse vertaling): </label>\r\n                    <input type=\"text\" name=\"title_nl\" id=\"title-nl\" value={book.title_nl} onChange={inputHandler}/>\r\n                    <label htmlFor=\"author\"> Auteur: </label>\r\n                    <input type=\"text\" name=\"author\" id=\"author\" value={book.author} onChange={inputHandler}/>\r\n                    <label htmlFor=\"series\"> Reeks: </label>\r\n                    <input type=\"text\" name=\"series\" id=\"series\" value={book.series} onChange={inputHandler}/>\r\n                    <label htmlFor=\"number\"> Nummer in reeks: </label>\r\n                    <input type=\"text\" name=\"number\" id=\"number\" value={book.number} onChange={inputHandler}/>\r\n                    <label htmlFor=\"year\"> Jaar: </label>\r\n                    <input type=\"text\" name=\"year\" id=\"year\" value={book.year} onChange={inputHandler}/>\r\n                </form>\r\n            </div>\r\n            <div className=\"buttons\">\r\n                <button onClick={saveBook}>Opslaan</button>\r\n                {book && <Link to={`/books/${book._id}`}>\r\n                    <button>Terug naar Detailweergave</button>\r\n                </Link>}\r\n                <Link to='/'>\r\n                    <button>Terug naar Bibliotheek</button>\r\n                </Link>\r\n\r\n            </div>\r\n        </div>\r\n    );\r\n}"],"names":["$bbzbN","parcelRequire","$450bc12d0d19ffd1$export$2e2bcd8739ae039","params","$iIluI","useParams","BASE_URI","$7fPBF","useContext","$eLV9D","URIContext","book","setBook","useState","title","title_nl","author","series","number","year","savedBook","setSavedBook","inputHandler","event","target","name","value","dataWasLoaded","data","console","log","dataWasSaved","useEffect","fetch","id","method","headers","Accept","then","response","json","catch","error","jsxs","className","jsx","htmlFor","type","onChange","onClick","preventDefault","body","JSON","stringify","$dNYY5","Link","to","_id"],"version":3,"file":"BookEdit.ab74507a.js.map"}