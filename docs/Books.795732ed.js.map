{"mappings":"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","sources":["src/components/Books.js","src/components/Pagination.js","src/components/Book.js"],"sourcesContent":["import {useContext, useEffect, useState} from \"react\";\r\n\r\nimport {URIContext} from \"../contexts/URIContext\";\r\n\r\nimport Pagination from \"./Pagination\";\r\nimport Book from \"./Book\";\r\n\r\nexport default function Books() {\r\n    const BASE_URI = useContext(URIContext)\r\n\r\n    const [library, setLibrary] = useState([])\r\n    const [limits, setLimits] = useState({\r\n        start: '1',\r\n        limit: '6'\r\n    })\r\n    const [uri, setUri] = useState(`${BASE_URI}?start=${limits.start}&limit=${limits.limit}`)\r\n    const [pagination, setPagination] = useState(null)\r\n\r\n    const loadLibrary = () => {\r\n        fetch(uri,\r\n            {\r\n                method: 'GET',\r\n                headers: {\r\n                    'Accept': 'application/json'\r\n                }\r\n            }\r\n        )\r\n            .then((response) => response.json())\r\n            .then((data) => dataWasLoaded(data))\r\n            .catch((error) => console.error(error));\r\n    };\r\n\r\n\r\n    const dataWasLoaded = (data) => {\r\n        console.log(data.items);\r\n        setLibrary(data.items);\r\n        setPagination(data.pagination)\r\n    };\r\n\r\n    useEffect(loadLibrary, [uri])\r\n\r\n    const showLibrary = library.map((item) => (\r\n        <Book book={item} key={item.id} libraryRefreshHandler={loadLibrary}/>\r\n    ))\r\n\r\n    return (\r\n        <>\r\n            <div className=\"library\">\r\n                {showLibrary}\r\n            </div>\r\n            {pagination &&\r\n                <Pagination pagination={pagination} setUri={setUri} libraryRefreshHandler={loadLibrary}/>}\r\n        </>\r\n    )\r\n}","export default function Pagination(props) {\r\n\r\n    const pagination = props.pagination\r\n\r\n    return (\r\n        <nav className=\"Pagination buttons\">\r\n            <div className=\"actions\">\r\n                <button onClick={() => {\r\n                    props.setUri(pagination._links.first.href)\r\n                }}>First\r\n                </button>\r\n                {pagination.currentPage === 1\r\n                    ? <button disabled>Previous</button>\r\n                    : <button onClick={() => {\r\n                        props.setUri(pagination._links.previous.href)\r\n                    }}>Previous</button>\r\n                }\r\n                <h3>{pagination.currentPage}/{pagination.totalPages}</h3>\r\n                {pagination.currentPage === pagination.totalPages\r\n                    ? <button disabled>Next</button>\r\n                    : <button onClick={() => {\r\n                        props.setUri(pagination._links.next.href)\r\n                    }}>Next</button>\r\n                }\r\n                <button onClick={() => {\r\n                    props.setUri(pagination._links.last.href)\r\n                }}>Last\r\n                </button>\r\n            </div>\r\n        </nav>\r\n    );\r\n}","import {useState} from \"react\";\r\nimport {Link} from \"react-router-dom\";\r\n\r\nexport default function Book(props) {\r\n\r\n    let className = \"Book\"\r\n    if (props.status) {\r\n        className = \"Book Success\"\r\n    }\r\n\r\n    const [book, setBook] = useState(props.book);\r\n\r\n    const deleteBook = () => {\r\n        fetch(props.book._links.self.href,\r\n            {\r\n                method: 'DELETE',\r\n                headers: {\r\n                    'Accept': 'application/json'\r\n                }\r\n            }\r\n        )\r\n            .then((response) => console.log(`deleted ${props.book.title}`))\r\n            .then((response) => {\r\n                props.libraryRefreshHandler()\r\n            })\r\n            .catch((error) => console.error(error));\r\n    };\r\n\r\n    return (\r\n        <div className={`${className}`}>\r\n            <div className=\"titles\">\r\n                <div>\r\n                    {book.title_nl && <h2>{book.title}</h2>}\r\n                    {book.title_nl && <h3>{book.title_nl}</h3>}\r\n                </div>\r\n                {props.status &&\r\n                    <div className=\"success\">\r\n                        <h2>Boek toegevoegd!</h2>\r\n                    </div>}\r\n            </div>\r\n            <div className=\"information\">\r\n                {book.author && <h4>Auteur: {book.author}</h4>}\r\n            </div>\r\n            <div className=\"buttons\">\r\n                <Link to={`/books/${props.book.id}`}>\r\n                    <button>Details weergeven</button>\r\n                </Link>\r\n                <Link to={`/books/edit/${props.book.id}`}>\r\n                    <button>Aanpassen</button>\r\n                </Link>\r\n                <button onClick={deleteBook}>Verwijderen</button>\r\n            </div>\r\n        </div>\r\n    );\r\n}"],"names":["$bbzbN","parcelRequire","$8cf7f27d47230003$export$2e2bcd8739ae039","BASE_URI","$7fPBF","useContext","$eLV9D","URIContext","library","setLibrary","useState","limits","setLimits","start","limit","uri","setUri","pagination","setPagination","loadLibrary","fetch","method","headers","Accept","then","response","json","data","dataWasLoaded","catch","error","console","log","items","useEffect","showLibrary","map","item","jsx","$3cIV7","default","book","libraryRefreshHandler","id","jsxs","Fragment","className","$8QEOj","$6712d6290db41aeb$export$2e2bcd8739ae039","props","onClick","_links","first","href","currentPage","disabled","previous","totalPages","next","last","$2555565295f0c974$export$2e2bcd8739ae039","status","setBook","title_nl","title","author","$dNYY5","Link","to","self"],"version":3,"file":"Books.795732ed.js.map"}