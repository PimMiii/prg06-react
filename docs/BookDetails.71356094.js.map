{"mappings":"4ZAAA,IAAAA,EAAAC,EAAA,S,oDAIe,SAAAC,EAAqBC,GAChC,MAAMC,GAAS,EAAAC,EAAAC,aACTC,GAAW,EAAAC,EAAAC,YAAWC,EAAAC,aAErBC,EAAMC,IAAW,EAAAL,EAAAM,UAAS,MAC3BC,GAAW,EAAAC,EAAAC,eAkBXC,EAAiBC,IACnBC,QAAQC,IAAIF,GACZN,EAAQM,EAAA,GAGZ,EAAAX,EAAAc,YApBiB,KACbC,MAAM,GAAGhB,KAAYH,EAAOoB,KACxB,CACIC,OAAQ,MACRC,QAAS,CACLC,OAAU,sBAIjBC,MAAMC,GAAaA,EAASC,SAC5BF,MAAMT,GAASD,EAAcC,KAC7BY,OAAOC,GAAUZ,QAAQY,MAAMA,IAAA,GASpB,IAgBpB,OACI,EAAAhC,EAAAiC,MAACzB,EAAA0B,SAAO,C,UACPtB,IACD,EAAAZ,EAAAiC,MAAC,OAAIE,UAAU,e,WACX,EAAAnC,EAAAoC,KAAC,OAAID,UAAU,S,UACX,EAAAnC,EAAAiC,MAAC,O,WACA,EAAAjC,EAAAoC,KAAC,M,SAAIxB,EAAKyB,SACX,EAAArC,EAAAoC,KAAC,M,SAAIxB,EAAK0B,iBAGd,EAAAtC,EAAAiC,MAAC,OAAIE,UAAU,c,WACX,EAAAnC,EAAAiC,MAAC,M,UAAG,WAASrB,EAAK2B,WAClB,EAAAvC,EAAAiC,MAAC,K,UAAE,SAAOrB,EAAK4B,SACf,EAAAxC,EAAAiC,MAAC,K,UAAE,UAAQrB,EAAK6B,OAAO,KAAG7B,EAAK8B,cAEnC,EAAA1C,EAAAiC,MAAC,OAAIE,UAAU,U,WACX,EAAAnC,EAAAoC,KAACpB,EAAA2B,KAAG,CAAEC,GAAG,I,UACL,EAAA5C,EAAAoC,KAAC,U,SAAO,8BAEZ,EAAApC,EAAAoC,KAACpB,EAAA2B,KAAG,CAAEC,GAAI,eAAehC,EAAKiC,M,UAC1B,EAAA7C,EAAAoC,KAAC,U,SAAO,iBAEZ,EAAApC,EAAAoC,KAAC,UAAOU,QApCD,KACfvB,MAAMX,EAAKmC,OAAOC,KAAKC,KACnB,CACIxB,OAAQ,SACRC,QAAS,CACLC,OAAU,sBAIjBC,MAAMC,GAAaT,QAAQC,IAAI,WAAWT,EAAKyB,WAC/CT,MAAMC,GAAad,EAAS,OAC5BgB,OAAOC,GAAUZ,QAAQY,MAAMA,IAAA,E,SAyBC,uBAI/BpB,IACE,EAAAZ,EAAAiC,MAAC,OAAIE,UAAU,e,WACX,EAAAnC,EAAAoC,KAAC,OAAID,UAAU,S,UACX,EAAAnC,EAAAiC,MAAC,O,WACG,EAAAjC,EAAAoC,KAAC,M,SAAG,yBACJ,EAAApC,EAAAoC,KAAC,M,SAAG,yBAGZ,EAAApC,EAAAoC,KAAC,OAAID,UAAU,iBAEf,EAAAnC,EAAAoC,KAAC,OAAID,UAAU,U,UACX,EAAAnC,EAAAoC,KAACpB,EAAA2B,KAAG,CAAEC,GAAG,I,UACL,EAAA5C,EAAAoC,KAAC,U,SAAO,oCAOpC,C","sources":["src/BookDetails.js"],"sourcesContent":["import React, {useState, useContext, useEffect, Fragment} from \"react\";\r\nimport {Link, useNavigate, useParams} from \"react-router-dom\";\r\nimport {URIContext} from \"./contexts/URIContext\";\r\n\r\nexport default function BookDetails(props) {\r\n    const params = useParams()\r\n    const BASE_URI = useContext(URIContext)\r\n\r\n    const [book, setBook] = useState(null);\r\n    const navigate = useNavigate();\r\n\r\n\r\n    const loadBook = () => {\r\n        fetch(`${BASE_URI}/${params.id}`,\r\n            {\r\n                method: 'GET',\r\n                headers: {\r\n                    'Accept': 'application/json'\r\n                }\r\n            }\r\n        )\r\n            .then((response) => response.json())\r\n            .then((data) => dataWasLoaded(data))\r\n            .catch((error) => console.error(error));\r\n    };\r\n\r\n\r\n    const dataWasLoaded = (data) => {\r\n        console.log(data);\r\n        setBook(data);\r\n    };\r\n\r\n    useEffect(loadBook, []);\r\n\r\n    const deleteBook = () => {\r\n        fetch(book._links.self.href,\r\n            {\r\n                method: 'DELETE',\r\n                headers: {\r\n                    'Accept': 'application/json'\r\n                }\r\n            }\r\n        )\r\n            .then((response) => console.log(`deleted ${book.title}`))\r\n            .then((response) => navigate(\"/\") )\r\n            .catch((error) => console.error(error));\r\n    };\r\n\r\n    return (\r\n        <Fragment>\r\n        {book &&\r\n        <div className=\"Book Details\">\r\n            <div className=\"titles\">\r\n                <div>\r\n                 <h2>{book.title}</h2>\r\n                <h3>{book.title_nl}</h3>\r\n                </div>\r\n            </div>\r\n            <div className=\"information\">\r\n                <h3>Auteur: {book.author}</h3>\r\n                <p>Jaar: {book.year}</p>\r\n                <p>Reeks: {book.series} #{book.number}</p>\r\n            </div>\r\n            <div className=\"buttons\">\r\n                <Link to='/'>\r\n                    <button>Terug naar Bibliotheek</button>\r\n                </Link>\r\n                <Link to={`/books/edit/${book._id}`}>\r\n                    <button>Aanpassen</button>\r\n                </Link>\r\n                <button onClick={deleteBook}>Verwijderen</button>\r\n            </div>\r\n        </div>\r\n        }\r\n            {!book &&\r\n                <div className=\"Book Details\">\r\n                    <div className=\"titles\">\r\n                        <div>\r\n                            <h2>Boek niet gevonden.</h2>\r\n                            <h3>Book not found</h3>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"information\">\r\n                    </div>\r\n                    <div className=\"buttons\">\r\n                        <Link to='/'>\r\n                            <button>Terug naar Bibliotheek</button>\r\n                        </Link>\r\n                    </div>\r\n                </div>\r\n            }\r\n        </Fragment>\r\n    );\r\n}"],"names":["$bbzbN","parcelRequire","$6fd469e0aada8d5c$export$2e2bcd8739ae039","props","params","$iIluI","useParams","BASE_URI","$7fPBF","useContext","$eLV9D","URIContext","book","setBook","useState","navigate","$dNYY5","useNavigate","dataWasLoaded","data","console","log","useEffect","fetch","id","method","headers","Accept","then","response","json","catch","error","jsxs","Fragment","className","jsx","title","title_nl","author","year","series","number","Link","to","_id","onClick","_links","self","href"],"version":3,"file":"BookDetails.71356094.js.map"}