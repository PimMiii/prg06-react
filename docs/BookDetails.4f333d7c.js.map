{"mappings":"4ZAAA,IAAAA,EAAAC,EAAA,S,oDAIe,SAAAC,IACX,MAAMC,GAAS,EAAAC,EAAAC,aACTC,GAAW,EAAAC,EAAAC,YAAWC,EAAAC,aAErBC,EAAMC,IAAW,EAAAL,EAAAM,UAAS,MAC3BC,GAAW,EAAAC,EAAAC,eAkBXC,EAAiBC,IACnBC,QAAQC,IAAIF,GACZN,EAAQM,EAAA,GAGZ,EAAAX,EAAAc,YApBiB,KACbC,MAAM,GAAGhB,KAAYH,EAAOoB,KACxB,CACIC,OAAQ,MACRC,QAAS,CACLC,OAAU,sBAIjBC,MAAMC,GAAaA,EAASC,SAC5BF,MAAMT,GAASD,EAAcC,KAC7BY,OAAOC,GAAUZ,QAAQY,MAAMA,IAAA,GASpB,IAgBpB,OACI,EAAA/B,EAAAgC,MAACzB,EAAA0B,SAAO,C,UACHtB,IACG,EAAAX,EAAAgC,MAAC,OAAIE,UAAU,e,WACX,EAAAlC,EAAAmC,KAAC,OAAID,UAAU,S,UACX,EAAAlC,EAAAgC,MAAC,O,WACG,EAAAhC,EAAAmC,KAAC,M,SAAIxB,EAAKyB,SACV,EAAApC,EAAAmC,KAAC,M,SAAIxB,EAAK0B,iBAGlB,EAAArC,EAAAgC,MAAC,OAAIE,UAAU,c,WACX,EAAAlC,EAAAgC,MAAC,M,UAAG,WAASrB,EAAK2B,WAClB,EAAAtC,EAAAgC,MAAC,K,UAAE,SAAOrB,EAAK4B,SACf,EAAAvC,EAAAgC,MAAC,K,UAAE,UAAQrB,EAAK6B,OAAO,KAAG7B,EAAK8B,cAEnC,EAAAzC,EAAAgC,MAAC,OAAIE,UAAU,U,WACX,EAAAlC,EAAAmC,KAACpB,EAAA2B,KAAG,CAAEC,GAAG,I,UACL,EAAA3C,EAAAmC,KAAC,U,SAAO,8BAEZ,EAAAnC,EAAAmC,KAACpB,EAAA2B,KAAG,CAAEC,GAAI,eAAehC,EAAKiC,M,UAC1B,EAAA5C,EAAAmC,KAAC,U,SAAO,iBAEZ,EAAAnC,EAAAmC,KAAC,UAAOU,QApCT,KACfvB,MAAMX,EAAKmC,OAAOC,KAAKC,KACnB,CACIxB,OAAQ,SACRC,QAAS,CACLC,OAAU,sBAIjBC,MAAMC,GAAaT,QAAQC,IAAI,WAAWT,EAAKyB,WAC/CT,MAAMC,GAAad,EAAS,OAC5BgB,OAAOC,GAAUZ,QAAQY,MAAMA,IAAA,E,SAyBS,uBAIvCpB,IACE,EAAAX,EAAAgC,MAAC,OAAIE,UAAU,e,WACX,EAAAlC,EAAAmC,KAAC,OAAID,UAAU,S,UACX,EAAAlC,EAAAgC,MAAC,O,WACG,EAAAhC,EAAAmC,KAAC,M,SAAG,yBACJ,EAAAnC,EAAAmC,KAAC,M,SAAG,yBAGZ,EAAAnC,EAAAmC,KAAC,OAAID,UAAU,iBAEf,EAAAlC,EAAAmC,KAAC,OAAID,UAAU,U,UACX,EAAAlC,EAAAmC,KAACpB,EAAA2B,KAAG,CAAEC,GAAG,I,UACL,EAAA3C,EAAAmC,KAAC,U,SAAO,oCAOpC,C","sources":["src/BookDetails.js"],"sourcesContent":["import {useState, useContext, useEffect, Fragment} from \"react\";\r\nimport {Link, useNavigate, useParams} from \"react-router-dom\";\r\nimport {URIContext} from \"./contexts/URIContext\";\r\n\r\nexport default function BookDetails() {\r\n    const params = useParams()\r\n    const BASE_URI = useContext(URIContext)\r\n\r\n    const [book, setBook] = useState(null);\r\n    const navigate = useNavigate();\r\n\r\n\r\n    const loadBook = () => {\r\n        fetch(`${BASE_URI}/${params.id}`,\r\n            {\r\n                method: 'GET',\r\n                headers: {\r\n                    'Accept': 'application/json'\r\n                }\r\n            }\r\n        )\r\n            .then((response) => response.json())\r\n            .then((data) => dataWasLoaded(data))\r\n            .catch((error) => console.error(error));\r\n    };\r\n\r\n\r\n    const dataWasLoaded = (data) => {\r\n        console.log(data);\r\n        setBook(data);\r\n    };\r\n\r\n    useEffect(loadBook, []);\r\n\r\n    const deleteBook = () => {\r\n        fetch(book._links.self.href,\r\n            {\r\n                method: 'DELETE',\r\n                headers: {\r\n                    'Accept': 'application/json'\r\n                }\r\n            }\r\n        )\r\n            .then((response) => console.log(`deleted ${book.title}`))\r\n            .then((response) => navigate(\"/\"))\r\n            .catch((error) => console.error(error));\r\n    };\r\n\r\n    return (\r\n        <Fragment>\r\n            {book &&\r\n                <div className=\"Book Details\">\r\n                    <div className=\"titles\">\r\n                        <div>\r\n                            <h2>{book.title}</h2>\r\n                            <h3>{book.title_nl}</h3>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"information\">\r\n                        <h3>Auteur: {book.author}</h3>\r\n                        <p>Jaar: {book.year}</p>\r\n                        <p>Reeks: {book.series} #{book.number}</p>\r\n                    </div>\r\n                    <div className=\"buttons\">\r\n                        <Link to='/'>\r\n                            <button>Terug naar Bibliotheek</button>\r\n                        </Link>\r\n                        <Link to={`/books/edit/${book._id}`}>\r\n                            <button>Aanpassen</button>\r\n                        </Link>\r\n                        <button onClick={deleteBook}>Verwijderen</button>\r\n                    </div>\r\n                </div>\r\n            }\r\n            {!book &&\r\n                <div className=\"Book Details\">\r\n                    <div className=\"titles\">\r\n                        <div>\r\n                            <h2>Boek niet gevonden.</h2>\r\n                            <h3>Book not found</h3>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"information\">\r\n                    </div>\r\n                    <div className=\"buttons\">\r\n                        <Link to='/'>\r\n                            <button>Terug naar Bibliotheek</button>\r\n                        </Link>\r\n                    </div>\r\n                </div>\r\n            }\r\n        </Fragment>\r\n    );\r\n}"],"names":["$bbzbN","parcelRequire","$6fd469e0aada8d5c$export$2e2bcd8739ae039","params","$iIluI","useParams","BASE_URI","$7fPBF","useContext","$eLV9D","URIContext","book","setBook","useState","navigate","$dNYY5","useNavigate","dataWasLoaded","data","console","log","useEffect","fetch","id","method","headers","Accept","then","response","json","catch","error","jsxs","Fragment","className","jsx","title","title_nl","author","year","series","number","Link","to","_id","onClick","_links","self","href"],"version":3,"file":"BookDetails.4f333d7c.js.map"}